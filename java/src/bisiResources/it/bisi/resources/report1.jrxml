<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report1" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="65"/>
	<parameter name="QUERY" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="REPORT_IDENTIFIER" class="java.lang.String"/>
	<parameter name="GROUP_ROWS" class="java.lang.String"/>
	<queryString>
		<![CDATA[$P!{QUERY}]]>
	</queryString>
	<field name="title" class="java.lang.String"/>
	<field name="srtdt" class="java.lang.String"/>
	<field name="enddt" class="java.lang.String"/>
	<field name="response" class="java.lang.String"/>
	<field name="percentage" class="java.lang.String"/>
	<field name="type" class="java.lang.String"/>
	<field name="group_id" class="java.lang.Integer"/>
	<variable name="GROUP_ROWS" class="java.lang.String">
		<variableExpression><![CDATA[$P{GROUP_ROWS}]]></variableExpression>
	</variable>
	<group name="group">
		<groupExpression><![CDATA[$F{group_id}]]></groupExpression>
		<groupHeader>
			<band/>
		</groupHeader>
	</group>
	<background>
		<band height="700" splitType="Stretch">
			<image>
				<reportElement x="24" y="67" width="506" height="587"/>
				<imageExpression class="java.net.URL"><![CDATA[it.bisi.Utils.getResource("/it/bisi/resources/background.png")]]></imageExpression>
			</image>
		</band>
	</background>
	<title>
		<band height="80" splitType="Stretch">
			<image>
				<reportElement x="0" y="0" width="555" height="60"/>
				<imageExpression class="java.net.URL"><![CDATA[it.bisi.Utils.getResource("/it/bisi/resources/logo.png")]]></imageExpression>
			</image>
		</band>
	</title>
	<pageHeader>
		<band height="140" splitType="Stretch">
			<textField>
				<reportElement x="0" y="95" width="555" height="15" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$V{PAGE_NUMBER}==1]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Top"/>
				<textFieldExpression class="java.lang.String"><![CDATA["Dataverzameling: "+$F{srtdt}+"-"+$F{enddt}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="110" width="555" height="30" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$V{PAGE_NUMBER}==1]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Top"/>
				<textFieldExpression class="java.lang.String"><![CDATA["Aantal respondenten: "+$F{response}+"\n"+
"Respons: "+$F{percentage}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="0" width="555" height="1"/>
			</line>
			<textField>
				<reportElement x="0" y="6" width="555" height="19" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$V{PAGE_NUMBER}==1]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{title}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="35" width="555" height="50" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$V{PAGE_NUMBER}==1]]></printWhenExpression>
				</reportElement>
				<textElement/>
				<text><![CDATA[Onderstaande evaluatieresulaten worden, samen met alle evaluatieresultaten van het afgelopen blok, geanalyseerd door de kwaliteitszorgmedewerker en vervolgens besproken met het afdelingsmanagement en de opleidingsteams. Mocht je naar aanleiding van de resultaten vragen hebben, stel deze dan aan de opleidingsmanager.]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="21" splitType="Immediate">
			<subreport>
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="555" height="20">
					<printWhenExpression><![CDATA["AVG".equals($F{type}) && !$V{GROUP_ROWS}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<dataSourceExpression><![CDATA[new it.bisi.report.jasper.datasource.QuestionJRDataSource($P{REPORT_CONNECTION},$P{REPORT_IDENTIFIER},$F{group_id}.toString(),$F{type}).getRecords()]]></dataSourceExpression>
				<subreportExpression class="java.net.URL"><![CDATA[it.bisi.Utils.getResource("/it/bisi/resources/report3.jasper")]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="555" height="20">
					<printWhenExpression><![CDATA["AVG".equals($F{type}) && $V{GROUP_ROWS}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<dataSourceExpression><![CDATA[new it.bisi.report.jasper.datasource.QuestionJRDataSource($P{REPORT_CONNECTION},$P{REPORT_IDENTIFIER},$F{group_id}.toString(),$F{type}).getRecords()]]></dataSourceExpression>
				<subreportExpression class="java.net.URL"><![CDATA[it.bisi.Utils.getResource("/it/bisi/resources/report3b.jasper")]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="555" height="20">
					<printWhenExpression><![CDATA["PERC".equals($F{type}) && !$V{GROUP_ROWS}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<dataSourceExpression><![CDATA[new it.bisi.report.jasper.datasource.QuestionJRDataSource($P{REPORT_CONNECTION},$P{REPORT_IDENTIFIER},$F{group_id}.toString(),$F{type}).getRecords()]]></dataSourceExpression>
				<subreportExpression class="java.net.URL"><![CDATA[it.bisi.Utils.getResource("/it/bisi/resources/report2.jasper")]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="555" height="20">
					<printWhenExpression><![CDATA["PERC".equals($F{type}) && $V{GROUP_ROWS}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<dataSourceExpression><![CDATA[new it.bisi.report.jasper.datasource.QuestionJRDataSource($P{REPORT_CONNECTION},$P{REPORT_IDENTIFIER},$F{group_id}.toString(),$F{type}).getRecords()]]></dataSourceExpression>
				<subreportExpression class="java.net.URL"><![CDATA[it.bisi.Utils.getResource("/it/bisi/resources/report2b.jasper")]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="555" height="20">
					<printWhenExpression><![CDATA["OPEN".equals($F{type})]]></printWhenExpression>
				</reportElement>
				<dataSourceExpression><![CDATA[new it.bisi.report.jasper.datasource.QuestionJRDataSource($P{REPORT_CONNECTION},$P{REPORT_IDENTIFIER},$F{group_id}.toString(),$F{type}).getRecords()]]></dataSourceExpression>
				<subreportExpression class="java.net.URL"><![CDATA[it.bisi.Utils.getResource("/it/bisi/resources/report4.jasper")]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<pageFooter>
		<band height="30" splitType="Stretch">
			<textField evaluationTime="Report">
				<reportElement x="526" y="8" width="25" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Bottom"/>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="520" y="8" width="6" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom"/>
				<text><![CDATA[/]]></text>
			</staticText>
			<textField>
				<reportElement x="495" y="8" width="25" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom"/>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="8" width="193" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Bottom"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{srtdt}+"-"+$F{enddt}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="0" width="555" height="1"/>
			</line>
			<textField>
				<reportElement x="193" y="3" width="216" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{title}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="49">
			<textField pattern="dd/MM/yyyy">
				<reportElement x="393" y="32" width="162" height="15"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="32" y="32" width="216" height="15" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA["AVG".equals($F{type})]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle"/>
				<text><![CDATA[= een verbeterpunt, score<3]]></text>
			</staticText>
			<staticText>
				<reportElement x="32" y="16" width="216" height="15" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA["AVG".equals($F{type})]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[= score tussen 3.0 en 3.1]]></text>
			</staticText>
			<staticText>
				<reportElement x="32" y="0" width="216" height="15" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA["AVG".equals($F{type})]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[= positief volgens de HES norm, score > 3.9]]></text>
			</staticText>
			<rectangle>
				<reportElement x="5" y="32" width="24" height="13" isRemoveLineWhenBlank="true" backcolor="#C80000">
					<printWhenExpression><![CDATA["AVG".equals($F{type})]]></printWhenExpression>
				</reportElement>
			</rectangle>
			<rectangle>
				<reportElement x="5" y="16" width="24" height="13" isRemoveLineWhenBlank="true" backcolor="#FFA500">
					<printWhenExpression><![CDATA["AVG".equals($F{type})]]></printWhenExpression>
				</reportElement>
			</rectangle>
			<rectangle>
				<reportElement x="5" y="0" width="24" height="13" isRemoveLineWhenBlank="true" backcolor="#00C800">
					<printWhenExpression><![CDATA["AVG".equals($F{type})]]></printWhenExpression>
				</reportElement>
			</rectangle>
		</band>
	</summary>
</jasperReport>
